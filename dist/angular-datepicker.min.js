/*!
 * Angular Datepicker v0.2.6
 *
 * Released by 720kb.net under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * 2016-01-29
 */


!function(a,b){"use strict";a.module("720kb.datepicker",[]).provider("datepickerConfig",function(){var a={defaultDateFormat:"dd.MM.yyyy",$get:function(){return a}};return a}).directive("datepicker",["datepickerConfig","$window","$compile","$locale","$filter","$interpolate","$timeout",function(c,d,e,f,g,h,i){var j=864e5,k=function(a){return b(a).format("MMMM")};return{restrict:"AEC",scope:{dateSet:"@",dateMinLimit:"@",dateMaxLimit:"@",dateMonthTitle:"@",dateYearTitle:"@",buttonNextTitle:"@",buttonPrevTitle:"@"},link:function(l,m,n){l.dateMonthTitle=l.dateMonthTitle||"Select month",l.dateYearTitle=l.dateYearTitle||"Select year",l.buttonNextTitle=l.buttonNextTitle||"Next",l.buttonPrevTitle=l.buttonPrevTitle||"Prev",l.lastSelectedDate={};var o,p,q,r,s=n.selector,t=a.element(s?m[0].querySelector("."+s):m[0].children[0]),u='<b class="datepicker-default-button">&lsaquo;</b>',v='<b class="datepicker-default-button">&rsaquo;</b>',w=n.buttonPrev||u,x=n.buttonNext||v,y=n.dateFormat||c.defaultDateFormat,z=new Date,A=!1,B=!1,C=f.DATETIME_FORMATS,D='<div class="_720kb-datepicker-calendar" ng-blur="hideCalendar()"><div class="_720kb-datepicker-calendar-header" ng-hide="isMobile()"><div class="_720kb-datepicker-calendar-header-left"><a href="javascript:void(0)" ng-click="prevMonth()" title="{{buttonPrevTitle}}" tabindex=-1>'+w+'</a></div><div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-calendar-month">{{month}} <a href="javascript:void(0)" ng-click="showYearsPagination = !showYearsPagination" tabindex=-1><span>{{year}} <i ng-if="!showYearsPagination">&dtrif;</i> <i ng-if="showYearsPagination">&utrif;</i> </span> </a></div><div class="_720kb-datepicker-calendar-header-right"><a href="javascript:void(0)" ng-click="nextMonth()" title="{{buttonNextTitle}}" tabindex=-1>'+x+'</a></div></div><div class="_720kb-datepicker-calendar-header" ng-show="isMobile()"><div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month"><select ng-model="month" title="{{dateMonthTitle}}" ng-change="selectedMonthHandle(month)"><option ng-repeat="item in months" ng-selected="month === item" ng-disabled=\'!isSelectableMaxDate(item + " " + day + ", " + year) || !isSelectableMinDate(item + " " + day + ", " + year)\' ng-value="item">{{item}}</option></select></div></div><div class="_720kb-datepicker-calendar-header" ng-show="isMobile()"><div class="_720kb-datepicker-calendar-header-middle _720kb-datepicker-mobile-item _720kb-datepicker-calendar-month"><select ng-model="mobileYear" title="{{dateYearTitle}}" ng-change="setNewYear(mobileYear)"><option ng-repeat="item in paginationYears" ng-selected="year === item" ng-value="item" ng-disabled="!isSelectableMinYear(item) || !isSelectableMaxYear(item)">{{item}}</option></select></div></div><div class="_720kb-datepicker-calendar-header" ng-show="showYearsPagination"><div class="_720kb-datepicker-calendar-years-pagination"><a ng-class="{\'_720kb-datepicker-active\': y === year, \'_720kb-datepicker-last\': y === lastSelectedDate.year, \'_720kb-datepicker-disabled\': !isSelectableMaxYear(y) || !isSelectableMinYear(y)}" href="javascript:void(0)" ng-click="setNewYear(y)" ng-repeat="y in paginationYears" tabindex=-1>{{y}}</a></div><div class="_720kb-datepicker-calendar-years-pagination-pages"><a href="javascript:void(0)" ng-click="paginateYears(paginationYears[0])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsPrevDisabled}" tabindex=-1>'+w+'</a><a href="javascript:void(0)" ng-click="paginateYears(paginationYears[paginationYears.length -1 ])" ng-class="{\'_720kb-datepicker-item-hidden\': paginationYearsNextDisabled}" tabindex=-1>'+x+'</a></div></div><div class="_720kb-datepicker-calendar-days-header"><div ng-repeat="d in daysInString"> {{d}} </div> </div><div class="_720kb-datepicker-calendar-body"><a href="javascript:void(0)" ng-repeat="px in prevMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled" tabindex=-1>{{px}}</a><a href="javascript:void(0)" ng-repeat="item in days" ng-click="setDatepickerDay(item)" ng-class="{\'_720kb-datepicker-active\': day === item, \'_720kb-datepicker-disabled\': !isSelectableMinDate(year + \'/\' + monthNumber + \'/\' + item ) || !isSelectableMaxDate(year + \'/\' + monthNumber + \'/\' + item)}" class="_720kb-datepicker-calendar-day" tabindex=-1>{{item}}</a><a href="javascript:void(0)" ng-repeat="nx in nextMonthDays" class="_720kb-datepicker-calendar-day _720kb-datepicker-disabled" tabindex=-1>{{nx}}</a></div></div></div>';D=D.replace(/{{/g,h.startSymbol()).replace(/}}/g,h.endSymbol());var E=function(a){a&&(z=new Date(a),l.month=k(z),l.monthNumber=Number(g("date")(z,"MM")),l.day=Number(g("date")(z,"dd")),l.year=Number(g("date")(z,"yyyy")),l.setDaysInMonth(l.monthNumber,l.year),l.setInputValue())};l.$watch("dateSet",E),l.$watch("dateMinLimit",function(a){a&&(p=a)}),l.$watch("dateMaxLimit",function(a){a&&(q=a)}),l.month=k(z),l.monthNumber=Number(g("date")(z,"MM")),l.day=Number(g("date")(z,"dd")),l.dateMaxLimit?l.year=Number(g("date")(new Date(l.dateMaxLimit),"yyyy")):l.year=Number(g("date")(z,"yyyy")),l.months=C.MONTH,l.daysInString=["0","1","2","3","4","5","6"].map(function(a){return g("date")(new Date(new Date("06/08/2014").valueOf()+j*a),"EEE")}),t.after(e(a.element(D))(l)),o=m[0].querySelector("._720kb-datepicker-calendar"),t.bind("focus click",function(){B=!0,l.showCalendar()}),t.bind("focusout blur",function(){B=!1,A||l.hideCalendar()});var F=function(a){A=!1,(8===a.keyCode||27===a.keyCode||13===a.keyCode)&&l.hideCalendar()};t.bind("keydown",F),a.element(o).bind("keydown",F),a.element(o).bind("mouseenter",function(){A=!0}),a.element(o).bind("mouseleave",function(){A=!1}),a.element(o).bind("focusin",function(){A=!0}),a.element(d).bind("click focus",function(){A||B||!o||l.hideCalendar()}),l.isMobile=function(){return navigator.userAgent&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))?!0:void 0},l.resetToMinDate=function(){l.month=k(new Date(p)),l.monthNumber=Number(g("date")(new Date(p),"MM")),l.day=Number(g("date")(new Date(p),"dd")),l.year=Number(g("date")(new Date(p),"yyyy"))},l.resetToMaxDate=function(){l.month=k(new Date(q)),l.monthNumber=Number(g("date")(new Date(q),"MM")),l.day=Number(g("date")(new Date(q),"dd")),l.year=Number(g("date")(new Date(q),"yyyy"))};var G=function(){if(l.day=void 0,l.lastSelectedDate){var a=l.monthNumber===l.lastSelectedDate.monthNumber,b=l.year===l.lastSelectedDate.year;a&&b&&(l.day=l.lastSelectedDate.day)}};l.nextMonth=function(){12===l.monthNumber?(l.monthNumber=1,l.nextYear()):l.monthNumber+=1,l.month=k(new Date(l.year,l.monthNumber-1)),l.setDaysInMonth(l.monthNumber,l.year),q&&(l.isSelectableMaxDate(l.year+"/"+l.monthNumber+"/"+l.day)||l.resetToMaxDate()),G()},l.selectedMonthHandle=function(a){l.monthNumber=Number(g("date")(new Date("01 "+a+" 2000"),"MM")),l.setDaysInMonth(l.monthNumber,l.year),l.setInputValue()},l.prevMonth=function(){1===l.monthNumber?(l.monthNumber=12,l.prevYear()):l.monthNumber-=1,l.month=k(new Date(l.year,l.monthNumber-1)),l.setDaysInMonth(l.monthNumber,l.year),p&&(l.isSelectableMinDate(l.year+"/"+l.monthNumber+"/"+l.day)||l.resetToMinDate()),G()},l.setNewYear=function(a){if(q&&l.year<Number(a)){if(!l.isSelectableMaxYear(a))return}else if(p&&l.year>Number(a)&&!l.isSelectableMinYear(a))return;l.year=Number(a),l.setDaysInMonth(l.monthNumber,l.year),l.paginateYears(a),G()},l.nextYear=function(){l.year=Number(l.year)+1},l.prevYear=function(){l.year=Number(l.year)-1},l.setInputValue=function(){if(!l.isSelectableMinDate(l.year+"/"+l.monthNumber+"/"+l.day)||!l.isSelectableMaxDate(l.year+"/"+l.monthNumber+"/"+l.day))return!1;var a=new Date(l.year+"/"+l.monthNumber+"/"+l.day);y?t.val(g("date")(a,y)):t.val(a),t.triggerHandler("input"),t.triggerHandler("change")},l.classHelper={add:function(a,b){if(!(a.className.indexOf(b)>-1)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},remove:function(a,b){var c,d;if(-1!==a.className.indexOf(b)){for(d=a.className.split(" "),c=0;c<d.length;c+=1)if(d[c]===b){d=d.slice(0,c).concat(d.slice(c+1));break}a.className=d.join(" ")}}},l.showCalendar=function(){r=d.document.getElementsByClassName("_720kb-datepicker-calendar"),a.forEach(r,function(a,b){r[b].classList?r[b].classList.remove("_720kb-datepicker-open"):l.classHelper.remove(r[b],"_720kb-datepicker-open")}),o.classList?o.classList.add("_720kb-datepicker-open"):l.classHelper.add(o,"_720kb-datepicker-open")},l.hideCalendar=function(){o.classList?o.classList.remove("_720kb-datepicker-open"):l.classHelper.remove(o,"_720kb-datepicker-open")},l.setDaysInMonth=function(a,b){var c,d,e,f,g=new Date(b,a,0).getDate(),h=new Date(b+"/"+a+"/1").getDay(),i=new Date(b+"/"+a+"/"+g).getDay(),j=[],k=[];for(l.days=[],c=1;g>=c;c+=1)l.days.push(c);if(0!==h){for(e=h,f=1===Number(a)?12:a-1,c=1;c<=new Date(b,f,0).getDate();c+=1)j.push(c);l.prevMonthDays=j.slice(-e)}else l.prevMonthDays=[];if(6>i){for(d=6-i,c=1;d>=c;c+=1)k.push(c);l.nextMonthDays=k}else l.nextMonthDays=[]},l.setDatepickerDay=function(a){l.day=Number(a),l.setInputValue(),l.hideCalendar(),l.updateLastSelected()},l.paginateYears=function(a){l.paginationYears=[];var b,c=[],d=10,e=10;for(l.isMobile()&&(d=50,e=50,l.dateMinLimit&&l.dateMaxLimit&&(a=new Date(l.dateMaxLimit).getFullYear(),d=a-new Date(l.dateMinLimit).getFullYear(),e=1)),b=d;b>0;b-=1)c.push(Number(a)-b);for(b=0;e>b;b+=1)c.push(Number(a)+b);q&&c&&c.length&&!l.isSelectableMaxYear(Number(c[c.length-1])+1)?l.paginationYearsNextDisabled=!0:l.paginationYearsNextDisabled=!1,p&&c&&c.length&&!l.isSelectableMinYear(Number(c[0])-1)?l.paginationYearsPrevDisabled=!0:l.paginationYearsPrevDisabled=!1,l.paginationYears=c},l.isSelectableMinDate=function(a){return p&&new Date(p)&&new Date(a).getTime()<new Date(p).getTime()?!1:!0},l.isSelectableMaxDate=function(a){return q&&new Date(q)&&new Date(a).getTime()>new Date(q).getTime()?!1:!0},l.isSelectableMaxYear=function(a){return q&&a>new Date(q).getFullYear()?!1:!0},l.isSelectableMinYear=function(a){return p&&a<new Date(p).getFullYear()?!1:!0},l.updateLastSelected=function(){l.lastSelectedDate.day=l.day,l.lastSelectedDate.monthNumber=l.monthNumber,l.lastSelectedDate.year=l.year};var H=function(){p&&!l.isSelectableMinYear(l.year)&&l.resetToMinDate(),q&&!l.isSelectableMaxYear(l.year)&&l.resetToMaxDate(),l.paginateYears(l.year),l.setDaysInMonth(l.monthNumber,l.year),l.updateLastSelected()};i(function(){var a=t.val(),c=b(a,y.toUpperCase());a&&""!==a&&c.isValid()&&E(c.toDate()),H()})}}}])}(angular,moment);
//# sourceMappingURL=angular-datepicker.sourcemap.map